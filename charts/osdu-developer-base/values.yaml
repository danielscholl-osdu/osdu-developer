fullnameOverride: osdu-svc

################################################################################
# Specify the azure environment specific values
#
azure:
  enabled: true
  tenantId: <tenant_id>
  clientId: <managed_identity_clientid>
  keyvaultName: <keyvault_name>

################################################################################
# Specify the resource limits
#
resourceLimits:
  defaultCpuRequests: "0.5"
  defaultMemoryRequests: "4Gi"
  defaultCpuLimits: "1"
  defaultMemoryLimits: "4Gi"

################################################################################
# MISE Configuration 
# Microsoft Identity Secure Enclave for additional token validation
#
mise:
  enabled: false                 # Set to true to enable MISE validation
  useMeshConfig: false           # Set to true if using IstioOperator mesh config instead of EnvoyFilter
  image:
    repository: mcr.microsoft.com/mise
    tag: latest
    pullPolicy: IfNotPresent
  port: 5000
  replicas: 2
  resources:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "200m"
      memory: "256Mi"
  methods:                       # HTTP methods to validate
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "PATCH"
  # Optional: specific paths to protect (if not specified, all paths will be protected)
  # paths:
  #   - "/api/*"
  # Optional: specific services to target (if not specified, all services will be protected)
  # targetLabels:
  #   app.kubernetes.io/name: myservice

################################################################################
# Blob Upload Configuration
#
blobUpload:
  enabled: false
  container: "legal-service-azure-configuration"

share:
  enabled: false
  items:
    - name: folder
      pvc: ""
      file: "file"
      url: "https://example.com/folder/file.json"
    - name: item2
      pvc: ""
      url: "https://example.com/archive.tar.gz"
      file: "folder_in_archive"
      compress: true

